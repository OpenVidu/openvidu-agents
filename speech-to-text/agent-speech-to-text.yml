##############################
# Agent common configuration #
##############################

# Docker image of the agent.
docker_image: docker.io/openvidu/agent-speech-to-text:latest

# Whether or not an instance of this agent should be automatically connected to new Rooms.
# If false, your application will need to call the Agent Dispatch API to connect the agent to a Room.
automatic_dispatch: true

################################
# Agent specific configuration #
################################
speech_to_text:
  # Whether or not the agent should be hidden to the Participants of the Room.
  hidden: true

  # Which Speech-To-Text provider to use: aws, azure, google, opeanai, groq, deepgram, assemblyai, fal, clova, speechmatics
  # The custom configuration for the selected provider must be set below
  provider: aws

  aws:
    # Credentials for AWS Transcribe. See https://docs.aws.amazon.com/transcribe/latest/dg/what-is.html
    aws_access_key_id:
    aws_secret_access_key:
    aws_default_region:
    # See https://docs.aws.amazon.com/transcribe/latest/dg/supported-languages.html
    language:

  azure:
    # Credentials for Azure Speech Service. See https://learn.microsoft.com/en-us/azure/ai-services/speech-service/get-started-speech-to-text?tabs=macos%2Cterminal&pivots=programming-language-python#prerequisites
    # One of these combinations must be set:
    #  - speech_host
    #  - speech_key + speech_region
    #  - speech_auth_token + speech_region
    speech_host:
    speech_key:
    speech_auth_token:
    speech_region:
    # Azure handles multiple languages and can auto-detect the language used. It requires the candidate set to be set.
    languages: [en-US]

  google:
    # API key for Google Cloud Speech-to-Text. See https://cloud.google.com/speech-to-text/docs/quickstart
    credentials_file:

  openai:
    # API key for OpenAI. See https://platform.openai.com/api-keys
    api_key:

  groq:
    # API key for Groq. See https://console.groq.com/keys
    api_key:
    # See https://console.groq.com/docs/speech-text
    model: whisper-large-v3-turbo
    # The language of the input audio. Supplying the input language in ISO-639-1 (https://en.wikipedia.org/wiki/List_of_ISO_639_language_codes) format will improve accuracy and latency
    language: en

  deepgram:
    # See https://console.deepgram.com/
    api_key:
    # See https://developers.deepgram.com/reference/speech-to-text-api/listen-streaming#request.query.model
    model: nova-2-general
    # See https://developers.deepgram.com/reference/speech-to-text-api/listen-streaming#request.query.language
    language: en-US
    # Whether to return interim (non-final) transcription results. Defaults to true
    interim_results: true
    # Whether to apply smart formatting to numbers, dates, etc. Defaults to true
    smart_format: true
    # Whether to add punctuations to the transcription. Defaults to true. Turn detector will work better with punctuations
    punctuate: true
    # Whether to include filler words (um, uh, etc.) in transcription. Defaults to true
    filler_words: true
    # Whether to filter profanity from the transcription. Defaults to false
    profanity_filter: false
    # List of tuples containing keywords and their boost values for improved recognition. Defaults to None. keywords does not work with Nova-3 models. Use keyterms instead.
    keywords:
      - "OpenVidu"

  assemblyai:
    # API key for AssemblyAI. See https://assemblyai.com/app/
    api_key:
    # See https://www.assemblyai.com/docs/speech-to-text/streaming#add-custom-vocabulary
    word_boost:
      - "OpenVidu"
    # See https://www.assemblyai.com/docs/speech-to-text/streaming#disable-partial-transcripts
    disable_partial_transcripts: false

  fal:
    # API key for fal. See https://fal.ai/dashboard/keys
    api_key:
    # See https://fal.ai/models/fal-ai/wizper/api#schema
    language: en

  clova:
    # Secret key issued when registering the app
    api_key:
    # API Gateway's unique invoke URL created in CLOVA Speech Domain. See https://guide.ncloud-docs.com/docs/en/clovaspeech-domain#create-domain
    invoke_url:
    # See https://api.ncloud-docs.com/docs/en/ai-application-service-clovaspeech-longsentence
    language: en-US

  speechmatics:
    # API key for Speechmatics. See https://portal.speechmatics.com/manage-access/
    api_key:
    # See https://docs.speechmatics.com/rt-api-ref#transcription-config
    language: en
